<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Plan wieczoru dla Bubu</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
	<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Reenie+Beanie|Lato:700'>
	<link rel="stylesheet" href="./wieczor/style.css">

</head>
<body>
<div id='container'>
<h1>Plan dzisiejszego wieczoru dla Bubu</h1>
<ul>
  <li>
    <a href="#" >
      <h2>Krok #0</h2>
      <p>Jechać bezpiecznie i zjeść coś pysznego</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #1</h2>
      <p>Włączyć wygaszacz ekranu</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #2</h2>
      <p>Włączyć Discord</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #3</h2>
      <p>Wejść na kanał i zawołać Bartusia</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #4</h2>
      <p>Wybrać grę przy pomocy kółka</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #5</h2>
      <p>Uśmiechnąć się i wysłać zdjęcie na dowód</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #6</h2>
      <p>Spędzić cudowny wieczór</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #7</h2>
      <p>Położyć się na chmurce</p>
    </a>
  </li>
  <li>
    <a href="#" >
      <h2>Krok #8</h2>
      <p>Przytulić i zasnąć</p>
    </a>
  </li>
</ul>

</div >
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
  
<script>
    window.onload = function() {
      setDone();

      var paragraphs = document.querySelectorAll('p');
      paragraphs.forEach(function(paragraph) {
        paragraph.addEventListener('click', function() {
          this.classList.toggle('done');
          updateLocalStorage();
        });
      });

      function updateLocalStorage() {
        var doneSteps = '';
        var listItems = document.querySelectorAll('ul li');
        listItems.forEach(function(listItem) {
          var paragraph = listItem.querySelector('p');
          doneSteps += paragraph.classList.contains('done') ? '1' : '0';
        });
        localStorage.setItem('doneSteps', doneSteps);
      }

      function setDone() {
        var savedDoneSteps = localStorage.getItem('doneSteps');
        if (savedDoneSteps) {
          var listItems = document.querySelectorAll('.container li');
          listItems.forEach(function(listItem, index) {
            var paragraph = listItem.querySelector('p');
            if (savedDoneSteps.charAt(index) === '1') {
              paragraph.classList.add('done');
            }
          });
        }
      }
    };
  </script>

</body>
</html>
